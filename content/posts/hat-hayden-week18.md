---
title: "Hat-Hayden-Week-18"
author: Hayden
date: 2019-02-08T20:49:29-08:00
tags: ["Hayden Wilcox", "HAT", "Week 18"]
draft: false
---

This week, our team continued to work on modularizing the Terraform code. As most of the code had been modularized already, I volunteered to handle the ECS module and everything related to it. During the course of creating the module, I realized that there was still a lot I didn't know about creating modules in general. Originally, I created a single file that would house the ECR, the ECS, and the ECS roles resources. Then I created a file to create the modules. Upon running 'terraform plan' I was beset upon by a plethora of "missing variable" errors. It was at this point I realized that if you create a variable in the resource, it becomes mandatory to have a value set to it in the module. This made the current setup I had impossible as it would require the ECS instance to have variables set for the ECS roles and vice versa, which would cause even more errors.

A change of plans was in order, and I split the single resource and module file into four. These became the ECS-ASG and ECS-Instance, (which at the time I thought were incompatible but more on that in a moment) the ECS-roles and the ECR. This made organization much easier to keep track of as each file was much shorter, though it did require shifting through multiple files. After working with it for a while, I ran into a number of bugs when attempting to run the code. Mostly, resources and variables weren't pointing to the correct locations, so the modules could not find the appropriate values and could not be created. I decided to leave this for the next day when I was better rested. Unfortunately at this point, my computer ran into an issue that caused a massive slow down when attempting to run any program, which made me fear that I needed a new HDD and began making preparations for this event. This, combined with various other personal issues forced me to stop working on the modules for nearly two days. 

After everything was resolved, I contacted my team asking them for help to be able to complete the work before the end of the sprint and allow us to demo come Monday's presentation. One of my teammates had created a script that allows us to create a workspace environment on our local machines, allowing us to have a local state with which to conduct tests without affecting the backend. A useful tool, but one I unfortunately could not figure out how to use on my own, and needed his help to set up. While I was doing this, another teammate looked over my modules and made some modifications to them. He combined my ASG and Instance modules and redirected my variables to point to the appropriate locations. Unfortunately at this point, due to trying to use my teammate's script, my Terraform no longer runs correctly at this time and I was unable to verify his work for myself. 

Because of my current predicament, I will need to continue working with my one teammate to fix my Terraform and be able to work properly again this weekend. There are also a number of key things about Terraform, GitHub and other programs and concepts that I realized through trial and error this week, that I do not have as good of a grasp on as I once thought, and will also need to study in the coming days.