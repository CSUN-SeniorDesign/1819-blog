---
title: "Matabit Thomas Week 23"
date: 2019-03-15T23:50:57-07:00
layout: 'posts'
tags: ["Thomas", "Matabit", "Week 23"]
draft: false
---

# Week 23
For week 23 I spent some of my time looking into what would be the best way to configure automatic pushes to our gitlab repository. We were either looking into installing the gitlab omnibus package on the server as an easy way to install gitlab and all of the packages that would be needed, or creating a "techlab" account on gitlab and creating ssh keys that we could use to push files remotely into the repo. After doing some research and testing using VMs, I was able to determine that installing gitlab omnibus is probably not the best way to go about things. I learned that you can create personal access tokens at gitlab.com for your account so that you can clone and push changes to your repository without having to authenticate each time. As long as you don't set an expiration date on your token, it will last indefinitely. This will work perfectly for our purposes since we will not need to generate ssh keys for each of the servers the scripts are going to work on. As long as the repository is cloned onto the server using the token, it will be able to remotely push changes to gitlab without needing to authenticate each time. However, this will still require the creation of a separate gitlab account. This account will need to be created for general techlab usage and will need to have its login credentials stored safely by using a password manager utility such as lastpass. This account will need to be able to be transferred to other techlab groups in the future.

Before the break we attempted to shut off old firewall A and B to see if the services and IP addresses would transfer over to the new servers. After turning off old A and B, we went in and configured the hostname and netplan yaml file to match exactly what was on old A in hopes that services would continue to run as always. However, when we did a 'netplan apply' command on new A, the server froze up and kicked everyone off. After ssh-ing into old A's iLO to turn it back on, we ran into an error when trying to ssh into it that was saying there could be a possible man-in-the-middle attack occurring and wouldn't let us into the system. At the same time, new A was still completely unresponsive. At this point we were running out of time for the day and decided to go down to the MDF and reconfigure new A's hostname and netplan yaml file back to the way it was originally so that we could have both old and new A working again before going on spring break. We are still looking into what exactly caused the issue and hopefully we can resolve the issue during the break and get everything working on new A without the need to have old A on. In the meantime, I should also be able to create a techlab account on gitlab and create a personal access token that can be used to clone our repo into new A and B and begin the process of implementing the backup/versioning scripts and push the versions into our gitlab repo.