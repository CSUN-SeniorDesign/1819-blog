---
title: "Mark's Blog Week 28"
date: 2019-04-26T16:35:01
draft: false
Categories: [CIT481]
Tags: [Mark Siegmund / Sandboxworms /  Week 28]
Author: "Mark Siegmund"
---

Marks Blog Week 28						               April 26, 2019

    Since we gave our presentation on Wednesday instead of Monday we got some things done on Monday and Tuesday that we counted toward this weeks accomplishments.  

    I spoke wIth Jeff on Tuesday regarding ssh failure to Lorentz’s machine.  I could find no reason for the issue.  I was confident that it had to do with changes to the firewall that we made last week.  WRONG!!  Its the simple things that are so easy  to miss.  I should have tried to follow the network traffic in my head.  We have 3 internal networks and one network for outside access.  Since we want all traffic to flow through the firewall it has to be the gateway for our internal network that is routable.  Our 2 other networks are not routable.  Both networks start with 10.47.0.0/16 and 10.47.0.0/24. Since they are non-routable they do not need a gateway address for outside access, but the 3rd network 130.166.47.0/24 is a routable network and it needs a gateway.  After Jeff looked at the traffic in several logs (which he did not tell me the names of) he figured that traffic was leaving firewalla but it was not returning.  What was happening was simple.  Our SSH traffic that was going to a machine on the other side of the firewall was being sent out to the host but to get back it would have to be pointed to the network gateway.  This was great all the machines were set up to use the gateway 130.166.47.1 but the ip of the gateway was not on the gateway itself.  Firewalla had the ip 130.166.47.2 and firewallb had 130.166.47.3 but the gateway address 130.166.47.1 was missing.  So I went in to netplan and set up a second IP on the 47 interface and guess what - I could now ssh to machines on the inside of the network.
     The next step is to get the 47.1 ip to “float” between the two hosts, firewalla and firewallb.  Just like the floating IP for the 240 network.


Today in class we worked on the Dell Poweredge 1950 in the server room connected to 2217 (Senior Design Lab).  Lisa had a list of things for us to do.
The first was to reset the password on the system to Null.  Someone had set the password but it was not written or noted anywhere she could think of looking.  The fix was simple.  Reset the bios password using the jumper for the NVRAM reset.  It was clearly labeled on the inside of the server cover.  Move the jumper and cycle the power and try to get into the BIOS.  When we tried this we found the BIOS still had the password on it.  I really wanted John, Mario and Thomas to get some experience with the hardware.  This is why it did not work.  They did not listen to me telling them to look at the legend and figure out which of the jumpers needed to be moved.  So it did not work.  When they looked back at the cover they found that we moved the incorrect jumper.  Well on the second try it worked and the password was removed.
     The second request was to configure the Raid configuration.  It was set to raid 5 but we found that 2 of the 4 drives had problems.  One was completely unusable.  The other has SMART errors.  It was flashing yellow, a warning light that says to replace the drive before it fails. We decided to continue to use the questionable drive so that we had a total of 3 and RAID5 was still an option.  We rebuilt the array with RAID5 and used 3 drives.  We asked Lisa to get 2 drive for replacement.  When they come in we can just swap the questionable drive with a replacement and it will rebuild itself.  
     We found that one of the power supplies was bad and asked for a new one.  The last step was to install a new OS.  Lisa choose Ubuntu 18.04LTS.  The install should be straight forward but we could not get past the network configuration no matter what we did.  We tried to disable the interface.  We dried to set it to DHCP.  It failed  We tried to manually configure the interface but it did not work either.  Seems like it was looking for a “live” connection to the internet.  Without this it would not proceed.  I could not find any active network that meant the requirements.   The install failed.  In doing research I came to believe that it was intended by the OS designers that the Live Install  ISO should work this way.  There were quite a few complaints about this and no solutions except to download the “Standard” ISO.  Lisa happened to have 16.04 on a USB and we decided to use this.  The install went as expected with no problems.  Lisa said she would upgrade it later.  Maybe we will do it next week.